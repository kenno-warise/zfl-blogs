{% extends 'base.html' %}
{% load static %}
{% load mark %}

{% block detail-style %}
<link rel="stylesheet" href="{% static 'blogs/css/blogs-style.css' %}">
<link rel="stylesheet" href="{% static 'blogs/css/detail-style.css' %}">
<link rel="stylesheet" href="{% static 'blogs/css/tomorrow-night-bright.css' %}">
{% endblock %}

{% block content %}

<!-- twitter用のブロック要素を追加する -->

<!-- コンテナ内　日付・記事詳細・サイドバー -->
<div class="container">
  <!-- BootStrapのグリッドシステム -->
  <div class="row">

    <!-- 記事詳細 -->
    <div class="col-lg-8 col-sm-12 main-bar">

      <div class="jumbotron jumbotron-fluid">
	<div class="container">
	  <img class="d-flex mr-3" src="{{ blog.category.thumbnail.url }}" alt="Generic placeholder image">
	  <h2 class="display-5"><strong>{% block blogs %}{% block title %}{{ blog.title }}{% endblock %}{% endblock %}</strong></h2>
	  <p class="lead">
	  <strong class="text-black-50">投稿日 {{ blog.created_at }}</strong> >> <strong>更新日 {{ blog.updated_at }}</strong>
	</p>
	</div>
      </div>

      {% if request.user.is_superuser %}
      <a href="{% url 'blogs:edit_blog' blog.id %}">
	<button type="button" class="btn btn-primary btn-sm">編集</button>
      </a>
      {% endif %}

      <div class="blogs-markdown-style">{{ blog.text | markdown_to_html }}</div>
      {% include 'blogs/toc_display.html' %}
      <a class="text-violet" href="{% url 'blogs:index' %}">一覧へ戻る</a>
    </div>
    <!-- 記事詳細 END -->

    <!-- サイドバー -->
    <div class="col-lg-4 col-sm-12 side-bar">
      <!--{ include 'blogs/toc_display.html' %} -->
      {% include 'blogs/new_article.html'%}
    </div>
    <!-- サイドバー END -->
  </div>
  <!-- BootStrapのグリッドシステム END -->
</div>

{% endblock %}
